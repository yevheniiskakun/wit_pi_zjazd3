{% extends "pages/base_index.html" %}
{% load static %}

{% block meta_tags %}
	<title>Product list PI Zjazd 3</title>
{% endblock %}

{% block content %}


<div id="ProductListBody">
    <figure class="text-center my-4">
      <blockquote class="blockquote">
        <h2>Lista produktów</h2>
      </blockquote>
    </figure>
  <div class="container text-center">
    <div id="AddNewProductForm" class="row justify-content-center d-flex" >
        <div class="mb-3" >
          <label for="new_product" class="form-label">Produkt:</label>
          <input type="text" class="form-control" id="new_product" name="new_product" aria-describedby="emailHelp" required>
        </div>
        <div class="col-4 mb-4">
            <button type="submit" class="btn btn-primary" onclick="add_product()">Dodaj</button>
        </div>
    </div>
  </div>

<div id="MainProductList">
    {% for product in products %}
      <div class="container text-center" id="product_container{{product.id}}">
          <div class="card mb-3" style="max-width: 700px;">
            <div class="row g-0">
              <div class="col-md-12">
                <div class="card-body">
                  <div class="row d-flex justify-content-center align-items-center">
                    <div class="col-8">
                      <h5 class="" style="visibility: hidden;">{{ product.id }}</h5>
                      <h5 class="card-title">{{ product.name }}</h5>
                    </div>
                    <div class="col-4">
                        <div class="row d-flex flex-column">
                        <div class="col-12">

                              <button id="product_bought_checkbox{{product.id}}"  style=" {% if product.buyed == True %} display: block; {% else %} display: none; {% endif %} min-width: 100px;" type="submit" class="btn btn-success mx-auto" onclick="mark_product({{product.id}}, '{{product.name}}', false)">&#10003;</button>

                              <button id="product_not_bought_checkbox{{product.id}}" style=" {% if product.buyed == True %} display: none; {% else %} display: block; {% endif %} min-width: 100px;" type="submit" class="btn btn-warning mx-auto" onclick="mark_product({{product.id}}, '{{product.name}}', true)">Kupione</button>

                        </div>
                        <div class="col-12">
                            <button type="submit" class="btn btn-danger mt-2" style="min-width: 100px;" onclick="delete_product({{product.id}})">Usuń</button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
      </div>
  {% endfor %}
</div>

  </div>


{% endblock %}
